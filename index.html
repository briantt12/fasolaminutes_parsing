<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sacred Harp NLP Parser</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 scroll-smooth">

  <!-- Navbar -->
  <header class="bg-white shadow sticky top-0 z-50 ">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Sacred Harp NLP Parser</h1>
      <nav class="space-x-4">
        <a href="#overview" class="text-blue-600 hover:underline">Overview</a>
        <a href="#methodology" class="text-blue-600 hover:underline">Methodology</a>
        <a href="#benchmarking" class="text-blue-600 hover:underline">Benchmarking</a>
        <a href="#usecases" class="text-blue-600 hover:underline">Use Cases</a>
        <a href="#future" class="text-blue-600 hover:underline">Future Work</a>
      </nav>
    </div>
  </header>

  <main class="max-w-5xl mx-auto px-4 py-10 space-y-16">

    <!-- Overview -->
    <section id="overview" class="scroll-mt-24">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-3xl font-bold mb-4">About the Project</h2>
        <p class="mb-2">The Sacred Harp Minutes project is dedicated to parsing the records of Sacred Harp singings, a tradition of sacred choral music that originated in New England and was later perpetuated in the American South. These records, known as "Sacred Harp Minutes," document the leaders and songs in each singing session. The minutes are stored in a database that researchers and singers can query for historical insights into the Sacred Harp tradition.
          The goal of this project is to develop a next-generation natural language processing (NLP) parser capable of accurately parsing these minutes, while handling various issues such as OCR errors, misspelled names, and ambiguous entries. The parser will integrate with the existing SQL-based database and provide improved usability for scholars and researchers.
          </p>
        
        <h3 class="text-xl font-semibold mt-6">Project Goals</h3>
        <p class="mb-2">The main objective is to improve the existing parsing solution for the Sacred Harp Minutes by creating a robust, scalable NLP solution that is capable of:
        </p>
        <ul class="list-disc ml-6 mt-2 space-y-1">
          <li>Accurately parsing the text for leader names, song numbers, and song titles</li>
          <li>Handling OCR errors and identifying misspelled or ambiguous names</li>
          <li>Integrating with the existing SQL database, enhancing its functionality for querying and research.
          </li>

        </ul>

        <h3 class="text-xl font-semibold mt-6">Installation</h3>
        <pre class="bg-gray-100 p-4 rounded text-sm mt-2">
pip install ollama
pip install rapidfuzz
pip install pandas
        </pre>
      </div>
    </section>

    <!-- Methodology -->
    <section id="methodology" class="scroll-mt-24">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-3xl font-bold mb-4">Methodology & Design</h2>
        <p class="mb-4">The parser has evolved through multiple stages:</p>

        <ul class="space-y-4 list-disc list-inside">
          <li>
            <span class="font-semibold">1. Original:</span> Simple regex-based parsing via <code>parse_minutes.py</code>.
            <ul class="list-disc list-inside pl-6 space-y-1">
              <li>Very fast.</li>
              <li>No context or model used to verify names.</li>
              <li>Leads to many false positives and missed names.</li>
            </ul>
          </li>
          <li>
            <span class="font-semibold">2. Intermediate:</span> Added spaCy NER and RapidFuzz fuzzy matching.
            <ul class="list-disc list-inside pl-6 space-y-1">
              <li>Still fast and reduces many common errors.</li>
              <li>spaCy catches standard names; RapidFuzz helps with typos.</li>
              <li>Fails to recognize uncommon names and lacks contextual reasoning.</li>
            </ul>
          </li>
          <li>
            <span class="font-semibold">3. Current:</span> Uses regex + RapidFuzz + LLM (via Ollama) for context-aware validation.
            <ul class="list-disc list-inside pl-6 space-y-1">
              <li>Most accurate solution so far.</li>
              <li>LLM brings contextual awareness to name validation.</li>
              <li>RapidFuzz handles duplicates and variations effectively.</li>
              <li>Slower runtime, but acceptable as a one-time fix for past 30 years and future-proofing.</li>
            </ul>
          </li>
        </ul>
        
        

        
      </div>
    </section>

    <!-- Benchmarking -->
    <section id="benchmarking" class="scroll-mt-24">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-3xl font-bold mb-4">Benchmarking</h2>
        <h3>To evaluate model accuracy, a custom benchmarking evaluator was developed. Thirty events were randomly selected from the 30-year dataset, and names were manually parsed to establish a gold standard reference. This benchmark was then used to compute evaluation metrics for all three parsing methods, enabling a quantitative comparison of their effectiveness.</h3>
        <p class="mt-2">Performance is evaluated using:</p>
<ul class="list-disc ml-6 space-y-3">
  <li>
    <strong>Accuracy</strong>: Measures overall correctness.
    <ul class="list-disc ml-6">
      <li>Definition: Proportion of correctly predicted names out of all predictions.</li>
      <li>Formula: <code>(TP + TN) / (TP + TN + FP + FN)</code></li>
    </ul>
  </li>
  <li>
    <strong>Precision</strong>: Focuses on correctness of positive predictions.
    <ul class="list-disc ml-6">
      <li>Definition: How many predicted names were actually correct.</li>
      <li>Formula: <code>TP / (TP + FP)</code></li>
    </ul>
  </li>
  <li>
    <strong>Recall</strong>: Focuses on completeness.
    <ul class="list-disc ml-6">
      <li>Definition: How many actual names were correctly identified.</li>
      <li>Formula: <code>TP / (TP + FN)</code></li>
    </ul>
  </li>
  
</ul>
<iframe src="model_performance_comparison.html" width="100%" height="600" class="rounded-xl shadow mt-6"></iframe>

        <iframe src="countVsTime.html" width="100%" height="600" class="rounded-xl shadow mt-6"></iframe>
      </div>
    </section>

    <!-- Use Cases -->
    <section id="usecases" class="scroll-mt-24">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-3xl font-bold mb-4">Use Cases & Analysis</h2>
        <p>The parsed name data can be analyzed to reveal trends in singing leadership, song popularity, and historical participation patterns.</p>
        
        <p class="mt-6">Also, check out the companion <strong>mobile app</strong> available on the App Store that allows users to browse their own Sacred Harp minutes powered by this parser.</p>
      </div>
    </section>

    <!-- Future Work -->
    <section id="future" class="scroll-mt-24">
      <div class="bg-white p-6 rounded-xl shadow">
        <h2 class="text-3xl font-bold mb-4">Future Work</h2>
        <ul class="list-disc ml-6 space-y-1">
          <li>Expand LLM's name recognition dataset</li>
          <li>Optimize performance and speed</li>
          <li>Add advanced features like sentiment analysis of minutes</li>
        </ul>
      </div>
    </section>

  </main>

</body>
</html>
